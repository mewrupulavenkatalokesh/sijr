<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Homemade Products</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #fceabb, #f8b500);
    min-height: 100vh;
  }

  header {
    background: #4CAF50;
    color: white;
    text-align: center;
    padding: 25px;
    font-size: 28px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
  }

  .admin, .products { width: 90%; margin: 20px auto; padding: 10px; background: rgba(255,255,255,0.9); border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }

  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
  }
  th {
    background-color: #4CAF50;
    color: white;
  }
  input { width: 80px; text-align: center; padding: 5px; border-radius: 5px; border: 1px solid #ccc; }
  button { padding: 8px 15px; margin-top: 10px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 5px; transition: 0.3s; }
  button:hover { background: #45a049; }

  .products { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
  .product { background: white; border-radius: 15px; padding: 15px; width: 250px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: transform 0.3s; }
  .product:hover { transform: translateY(-5px); }
  .product img { width: 100%; border-radius: 15px; }
  .product h3 { margin: 15px 0 10px; font-size: 20px; }
  .price { font-weight: bold; margin-top: 10px; color: #e91e63; font-size: 18px; }
  select { margin-top: 10px; padding: 5px; border-radius: 5px; border: 1px solid #ccc; }

  footer {
    background: #333;
    color: white;
    text-align: center;
    padding: 20px;
    margin-top: 30px;
    box-shadow: 0 -4px 6px rgba(0,0,0,0.2);
  }
  .qr { margin-top: 15px; }
  .qr img { width: 150px; }
</style>
</head>
<body>

<header>Homemade Products</header>

<!-- Admin Panel -->
<div class="admin">
  <h2>Admin Panel - Update Prices & Support Info</h2>
  <table id="adminTable">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity 1</th>
        <th>Price 1 (₹)</th>
        <th>Quantity 2</th>
        <th>Price 2 (₹)</th>
        <th>Quantity 3</th>
        <th>Price 3 (₹)</th>
        <th>Support</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows generated by JS -->
    </tbody>
  </table>
  <div style="text-align:center;">
    <button onclick="updateProductsFromAdmin()">Update Products</button>
  </div>
</div>

<!-- Customer Product View -->
<section class="products" id="products">
  <!-- Product cards generated by JS -->
</section>

<footer>
  <p>Contact us: +91-9876543210 | myemail@gmail.com | Mumbai, India</p>
  <div class="qr">
    <p>Scan to Pay:</p>
    <img src="upi-qr.png.jpg" alt="UPI QR Code">
  </div>
</footer>

<script>
let products = [
  { name: "Pippalu", image: "pippalu.jpg", priceOptions: { "100g": 100, "200g": 200, "500g": 450 } },
  { name: "Murukulu", image: "murukulu.jpg", priceOptions: { "100g": 60, "200g": 120, "500g": 300 } }
];

const productsContainer = document.getElementById("products");
const adminTableBody = document.querySelector("#adminTable tbody");

function renderProducts() {
  productsContainer.innerHTML = "";
  products.forEach((product, index) => {
    const productDiv = document.createElement("div");
    productDiv.className = "product";
    const options = Object.keys(product.priceOptions)
      .map(qty => `<option value="${qty}">${qty}</option>`).join("");
    productDiv.innerHTML = `
      <img src="${product.image}" alt="${product.name}">
      <h3>${product.name}</h3>
      <select onchange="updatePrice(${index}, this.value)">
        ${options}
      </select>
      <p class="price" id="price-${index}">₹${product.priceOptions[Object.keys(product.priceOptions)[0]]}</p>
      <p>Support: +91-9876543210 | myemail@gmail.com</p>
    `;
    productsContainer.appendChild(productDiv);
  });
}

function updatePrice(index, qty) {
  const price = products[index].priceOptions[qty];
  document.getElementById(`price-${index}`).innerText = `₹${price}`;
}

function renderAdminTable() {
  adminTableBody.innerHTML = "";
  products.forEach((product, index) => {
    const qtyKeys = Object.keys(product.priceOptions);
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${product.name}</td>
      <td><input type="text" value="${qtyKeys[0] || ''}" data-index="${index}" data-type="qty1"></td>
      <td><input type="number" value="${product.priceOptions[qtyKeys[0]] || ''}" data-index="${index}" data-type="price1"></td>
      <td><input type="text" value="${qtyKeys[1] || ''}" data-index="${index}" data-type="qty2"></td>
      <td><input type="number" value="${product.priceOptions[qtyKeys[1]] || ''}" data-index="${index}" data-type="price2"></td>
      <td><input type="text" value="${qtyKeys[2] || ''}" data-index="${index}" data-type="qty3"></td>
      <td><input type="number" value="${product.priceOptions[qtyKeys[2]] || ''}" data-index="${index}" data-type="price3"></td>
      <td>+91-9876543210<br>myemail@gmail.com</td>
    `;
    adminTableBody.appendChild(row);
  });
}

function updateProductsFromAdmin() {
  const inputs = adminTableBody.querySelectorAll("input");
  inputs.forEach(input => {
    const index = input.dataset.index;
    const type = input.dataset.type;
    if (!products[index].priceOptions) products[index].priceOptions = {};
    if (type.startsWith("qty")) {
      const priceKey = "price" + type.slice(3);
      const priceInput = adminTableBody.querySelector(`input[data-index="${index}"][data-type="${priceKey}"]`);
      if (input.value && priceInput.value) {
        products[index].priceOptions[input.value] = Number(priceInput.value);
      }
    }
  });
  renderProducts();
  alert("Products updated successfully!");
}

// Initial render
renderProducts();
renderAdminTable();
</script>

</body>
</html>
